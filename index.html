<!DOCTYPE html>
<html>
  <head>
    <title>EpicEditor Docs</title>
    <style>
      body {background:#FEED79;}
      #wrapper { width:600px;margin:0 auto;font-family:helvetica,arial,sans-serif;line-height:1.4em; }
      #example-1 { height:349px;border:1px solid #000; }
      h1 { border-bottom:2px solid #000; padding:0 0 15px 0; font-size:38px; position:relative; }
      h3,h4,h5,h6 { margin-bottom:0; }
      h3 { font-size:20px; }
      h4 { font-size:18px; }
      h5 { font-size:16px; }
      h6 { font-size:14px; padding:10px 0; border-top:1px solid #000; }
      h1 span { opacity:0.25; font-weight:normal; font-size:20px; background:#000; color:#fff; padding:0 5px; border-radius:3px; position:absolute; top:0; right:0; }
      pre { border:1px solid #000; }
      .offline-mode pre { padding:5px; background:#000; color:#fff; }
      p { font-size:13px; margin:5px 0; }
      a { background:#000;color:#fff;text-decoration:none; }
      .example { font-weight:bold; font-size:12px; }
    </style>
    <link rel="stylesheet" href="http://yandex.st/highlightjs/6.1/styles//sunburst.min.css">
  </head>
  <body>
    <div id="wrapper">
      <h1>EpicEditor <span>alpha 0.0.1</span></h1>
      <h2>An Embeddable JavaScript Markdown Editor</h2>
      <p>EpicEditor is an embeddable JavaScript <a href="http://daringfireball.net/projects/markdown/">Markdown</a> editor with some minor Markdown enhancements such as automatic link creation and code fencing.</p>

      <div id="example-1"></div>

      <h3>Why</h3>
      <p>WYSIWYGs suck and they suck hard. Markdown is quickly becoming the replacement. <a href="http://github.com">GitHub</a>, <a href="http://stackoverflow.com">Stackoverflow</a>, and even blogging apps like <a href="http://posterous.com">Posterous</a> support Markdown now. This allows you to generate a Markdown editor with a preview, fullscreen editing, full CSS theming, and offline support with a simple:</p>
      <pre><code class="javascript">var editor = new EpicEditor(element).load();</code></pre>

      <h3>How</h3>
      <p>EpicEditor allows for all kinds of customization. For simple drop-in-and-go support see the <a href="#quick-start">quick start</a> right below, otherwise checkout the full <a href="#api">API</a>.</p>
      <h4 id="quick-start">Quick Start</h4>
      <p>EpicEditor is easy to implement. It only needs an element to add the editor to and then you call <code>load()</code> when you're ready.</p>
      <p class="example">Example:</p>
      <pre><code ="javascript">var element = document.getElementById('editor-wrapper');
var editor = new EpicEditor(element).load();</code></pre>

      <h4 id="api">API</h4>
      
      <h5>Constructor</h5>
      
      <h6 id="">EpicEditor(<em>element</em>)</h6>
      <p>Creates a new EpicEditor instance. Give it an element you want to insert the editor into.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">var editor = new EpicEditor(element);</code></pre>
      <p>Note: all the examples below will continue to use this same constructor.</p>
      
      <h5>Methods</h5>
      
      <h6 id="">load([<em>callback</em>])</h6>
      <p>Loads the editor by inserting it into the DOM by creating an <code>&lt;iframe&gt;</code>. Will trigger the <code>load</code> event, or you can use the callback instead.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">editor.load();</code></pre>
      
      <h6 id="">unload([<em>callback</em>])</h6>
      <p>Unloads the editor by removing the <code>&lt;iframe&gt;</code>, but will keep any options you set and file contents so you can easily call <code>.load()</code> again. Will trigger the <code>unload</code> event, or you can use the callback instead.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">editor.unload();</code></pre>
      
      <h6 id="">options(<em>options</em>)</h6>
      <p>Lets you set options for the editor. The example below has all the options available currently.</p>
      <ul>
        <li><code>file.name</code>: If no file exists with this name a new one will be made, otherwise the existing will be opened.</li>
        <li><code>file.defaultContent</code>: The content to show if no content exists for that file.</li>
        <li><code>themes.editor</code>: The theme for the editor which is a textarea inside of an iframe.</li>
        <li><code>themes.preview</code>: The theme for the previewer which is a div of content inside of an iframe.</li>
        <li><code>focusOnLoad</code>: Will focus on the editor on load. It's <code>false</code> by default.</li>
      </ul>
      <p class="example">Example:</p>
      <pre><code class="javascript">editor.options({
  file:{
    name:'example'
    defaultContent:'Write text in here!'
  },
  themes:{
    editor:'/css/epiceditor/editor-custom.css'
    preview:'/css/epiceditor/preview-custom.css'
  },
  focusOnLoad:true
}).load();</code></pre>
      
      <h6 id="">get(<em>element</em>)</h6>
      <p>Will grab an element of the editor for easy DOM manipulation inside of the editor.</p>
      <ul>
        <li><code>'document'</code>: Returns the iframe element.</li>
        <li><code>'body'</code>: Returns the iframe's inner &lt;body&gt; element.</li>
        <li><code>'editor'</code>: Returns the editor which is a &lt;textarea&gt;.</li>
        <li><code>'previewer'</code>: Returns the previewer element which is a &lt;div&gt;.</li>
      </ul>
       <p class="example">Example:</p>
      <pre><code class="javascript">someBtn.onclick = function(){
  console.log(ee.get('editor').value); //Would return the editor's content
}</code></pre>

      <h6 id="">open(<em>filename</em>)</h6>
      <p>Opens a file into the editor.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">openFileBtn.onclick = function(){
  ee.open('some-file'); //Open a file when the user clicks this button
}</code></pre>

      <h6 id="">save()</h6>
      <p>Manually save a file. EpicEditor will save on keyup by default but if you are inserting content via ajax for example, this is useful.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">saveFileBtn.onclick = function(){
  ee.save();
}</code></pre>

      <h6 id="">on(<em>event</em>,<em>handler</em>)</h6>
      <p>Sets up an event handler (callback) for a specified event. For all event types, see the <a href="#events">Events</a> section below.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">ee.on('unload',function(){
  console.log('Editor was removed');
});</code></pre>

      <h6 id="">emit(<em>event</em>)</h6>
      <p>Sets off an event manually. Like jQuery's <code>.trigger()</code></p>
      <p class="example">Example:</p>
      <pre><code class="javascript">ee.emit('unload'); //Would trigger the above handler</code></pre>
      
      <h6 id="">removeListener(<em>event</em>,[<em>handler</em>])</h6>
      <p>Allows you to remove all listeners for an event, or just the specified one.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">ee.removeListener('unload'); //The handler above would no longer fire</code></pre>

      <h6 id="">preview()</h6>
      <p>Will put the editor into preview mode.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">previewBtn.onclick = function(){
  ee.preview();
}</code></pre>
      
      <h6 id="">edit()</h6>
      <p>Will put the editor into edit mode.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">editBtn.onclick = function(){
  ee.edit();
}</code></pre>
      
      <h6 id="">exportHTML()</h6>
      <p>Will return the generated HTML from the Markdown that you see in the preview mode. Useful to saving content to a database.</p>
      <p class="example">Example:</p>
      <pre><code class="javascript">syncWithServerBtn.onclick = function(){
  var theHTML = ee.exportHTML();
  saveToServerAjaxCall('/save',{data:theHTML},function(){
    console.log('data was saved to a db');
  });
}</code></pre>

      <h5 id="events">Events</h5>
      
      <h6 id="">load</h6>
      <p>Fires when the editor is loaded via <code>.load()</code>.</p>
      
      <h6 id="">unload</h6>
      <p>Fires when the editor is unloaded via <code>.unload()</code>.</p>
      
      <h6 id="">preview</h6>
      <p>Fires when the user clicks the preview button, or when <code>.preview()</code> is called.</p>
      
      <h6 id="">edit</h6>
      <p>Fires when the user clicks the edit button, or when <code>.edit()</code> is called.</p>
      
      <h6 id="">save</h6>
      <p>Fires when the file is saved automatically by EpicEditor, or when <code>.save()</code> is called.</p>

      <h6 id="">open</h6>
      <p>Fires when the file is opened on load automatically by EpicEditor, or when <code>.open()</code> is called.

      <h4>Theming</h4>
      <p>How to theme the editor...</p>

      <h4>Using Markdown</h4>

      <h3>Who</h3>
      <p><a href="http://twitter.com/oscargodson">Oscar Godson</a> (me!), created EpicEditor with help from <a href="http://twitter.com/adam_bickford">Adam Bickford</a>. With many thanks to John Fraser (<em>site is no longer up</em>) for his <a href="https://github.com/coreyti/showdown">Showdown.js</a> script and <a href="http://daringfireball.net/">John Gruber</a> for <a href="http://daringfireball.net/projects/markdown/">Markdown</a>. Also, <a href="http://blog.izs.me">Isaac Z. Schlueter</a> for his port of <a href="https://github.com/isaacs/github-flavored-markdown">GitHub Flavored Markdown</a> which I <a href="https://github.com/oscargodson/github-flavored-markdown">forked</a>.</p>
    </div>
    <script src="http://yandex.st/highlightjs/6.1/highlight.min.js"></script>
    <script src="epiceditor.js"></script>
    <script>
      
      try{
        hljs.initHighlightingOnLoad(); 
      } catch(e){
        document.body.className += " " + 'offline-mode';
        console.log('Code highlighting will be disabled because yandex.st isn\'t loading or there is an error in the linked script.')
      }

      var examples = [document.getElementById('example-1')];

      var ee1 = new EpicEditor(examples[0]);
      ee1.options({
        themes:{
          editor:'epiceditor/themes/editor/epic-dark.css',
          preview:'epiceditor/themes/preview/preview-dark.css'
        },
        file:{
          defaultContent:"#EpicEditor\nThis is some default content. Go ahead, _change me_. "
        }, 
        focusOnLoad:true
      })
      .load();
    </script>
  </body>
</html>